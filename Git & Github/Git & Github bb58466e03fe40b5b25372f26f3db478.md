# Git & Github

### Abrindo CMD no windows e linux:

-Comando *dir**(*windows) e LS(linux):**

- Mostra todos diretórios contidos na pasta onde estamos situados

-Comando cd **(windows e linux):**

*cd /* 

- Reduz um nível

*cd* Windows

- Entra na pasta Windows

*cd ..* 

- Avançar um nível

*cls (**clear ou teclas Ctrl + L** no Linux)*

- Limpar tela

tecla *Tab*

- Auto completar

*mkdir(windows e linux) nome*

- Criar uma pasta

*echo* hello > hello.txt

- criando um arquivo(hello.txt)

Seta para cima:

- mostra histórico de comando no terminal

*del workspace:*

- remove apenas os arquivos dentro da pasta workspace

*rmdir* workspace /S /Q 

- remove pasta workspace com todos os arquivos.
- *rm -rf  nome no linux*

### Conceitos do Git:

-**SHA1(Secure hash algorithm)**

É um conjunto de funções hash criptográficas projetadas pela NSA(Agencia de segurança nacional dos EUA).

A encriptação gera um conjunto de caracteres identificador de 40 dígitos. Cada alteração gera um novo conjunto de 40 caracteres.

Forma curta de representar um estado de um arquivo

Ex:

Abre o git gui com botão direto do mouse para abrir n mesmo ambiente que você se encontra

Cria um arquivo txt e aolica o comando abaixo

```python
openssl sha1 texto.txt
#irá gerar uma criptografia de 40 caracteres
Daniel@DESKTOP-J52M5FG MINGW64 ~/Desktop
$ openssl sha1 texto.txt
SHA1(texto.txt)= 5d3a1de628e46bfe0b8b16ef3c3a4e96765c5318

#fazendo qualquer alteração no arquivo e gerando o mesmo código irá gerar outra criptografia

Daniel@DESKTOP-J52M5FG MINGW64 ~/Desktop
$ openssl sha1 texto.txt
SHA1(texto.txt)= e5e34ec438ad402445d85ec41491bb251c8f9182

```

### Objetos internos do git:

- blobs

Exemplo:

Jogando uma string para ser encriptado

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled.png)

gerou dois sha1(códigos) diferentes

estrutura do blob; git armazena metadados através do blob

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%201.png)

Agora implementado a estrutura correta os sha1 ficarão iguais

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%202.png)

- trees

-Armazena blobs e outras árvores

-Objeto recursivo, podendo obter objetos de outras árvores

-Árvores tem o sha1 encriptado das árvores e o blob tem o sha1 do arquivo. Alterando o arquivo também altera os dois sha1(arvore e blob).

-Guarda o nome do arquivo

-Responsável por montar toda a estrutura de onde estão os arquivos

Estrutura tree:

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%203.png)

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%204.png)

- commit

-Objeto mais importante

-Vai juntar tudo, dar sentido para a operação

-Commits também possui um sha1(encriptação)

-Alterando um arquivo —> altera uma blob  —> altera um commit (altera os três sha1)

-Forma segura de que o arquivo não não será alterado pois cada commit é único, caso seja alterado irá ficar muito claro quem fez. 

-Estrutura do commit:

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%205.png)

-Commit aponta para uma árvore, para um parente, para um autor, para uma mensagem e um timestamp também

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%206.png)

### Chaves SSH e Tokens

-Cada vez que jogar um arquivo pro github irá haver autenticação e outros processos de segurança.

*Chave SSH: é uma forma de fornecer uma conexão segura e encriptada entre duas máquinas(chave pública e privada).

### Criar uma chave SSH (processos)

-Abrir o git bash

```python
Daniel@DESKTOP-J52M5FG MINGW64 ~
#entrada
$ ssh-keygen -t ed25519 -C dyelzim@gmail.com
#retorno
Generating public/private ed25519 key pair.
#endereço da chave
Enter file in which to save the key (/c/Users/Daniel/.ssh/id_ed25519):
Created directory '/c/Users/Daniel/.ssh'.
#criando e confirmando uma senha
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
#retorno
#identificação salva nesse  endereço 
Your identification has been saved in /c/Users/Daniel/.ssh/id_ed25519
#chave publica também foi salva nesse mesm endereço com o mesmo nome da chave privada, mas com o .pub
Your public key has been saved in /c/Users/Daniel/.ssh/id_ed25519.pub
The key fingerprint is:
SHA256:BMDZN+YIRyZqNQYs/W9LnsXsb/bf4hC1D49jD7CADPA dyelzim@gmail.com
The key's randomart image is:
+--[ED25519 256]--+
| o.oB=+          |
|. o++*o.+        |
| .o. oE=..    .  |
| .  . .+..   . . |
|     . oS . o o  |
|      + +  . + = |
|     + =    o = o|
|      + . o  o.= |
|         +...oo.o|
+----[SHA256]-----+
```

Visualizando as chaves

```python
#acessando a pasta
$ cd /c/Users/Daniel/.ssh/
#vendo o conteúdo da pasta
$ ls
#visualizar o conteudo de uma das chaves
$ cat id_25519.pub #chave pública #expor no github
#retorno
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAINrAGZ2PtvthIUCLpLzO7KcZY5UslDmDh9xuu+3NqeQo dyelzim@gmail.com
#mostra o caminho
$ pwd
```

Vá em SSH and GPG keys, digite o título e a chave retornada acima, digite seu usuário e sua senha.

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%207.png)

Inicializar SSH agent (startando o processo)

```python
#input
$ eval $(ssh-agent -s)
#output
Agent pid 2141 #numero do processo #criando um agente
#input
$ ssh-add id_ed25519 #passando pro agente o caminho da chave privada(como estou na mesma pasta basta digitar o nome da chave).
Enter passphrase for id_ed25519: #digitando a senha
#output
Identity added: id_ed25519 (dyelzim@gmail.com)

```

### Clonando repositório no github através de um  SSH (validando o processo)

obs: não poderá clonar um repsitório via https

```python
#input
#passando o endereço a ser clonado
$ git clone git@github.com:Perkles/perkles.github.io.git
#output
Cloning into 'perkles.github.io'...
The authenticity of host 'github.com (20.201.28.151)' can't be established.
ED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes #digita yes
Warning: Permanently added 'github.com' (ED25519) to the list of known hosts.
ERROR: Repository not found.
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
```

### Token de acesso pessoal

-Clica em DEVELOPER SETTINGS

-Clica em PERSONAL ACCESS TOKEN

-Clica em GENERATE NEW TOKEN

-Agora só personalizar o token (nome, data expiração...)

-Marcar a opção REPO 

-Clica em GENERATE TOKEN

Pronto! Seu token foi gerado!

CUIDADO!!! Você precisará copiar e colar o token em algum lugar seguro pois só aparecerá uma única vez.

```python
#clonando repositório através do https
#input
$ git clone https://github.com/Perkles/perkles.github.io
#irá aparecer uma janela. Clica em token e digita a chave
#output
Cloning into 'perkles.github.io'...
remote: Repository not found.
fatal: repository 'https://github.com/Perkles/perkles.github.io/' not found
```

Ok. Processo finalizado.

### Iniciando o Git e criando um commit

- git init (inicia repositório no git):

-Inicializa, cria um repositório;

- git add (mover arquivos e dar inicio ao versionamento e conhecer os primeiros comandos
- git commit (

```python
#Dentro do c: abrir o gitbash com o botão direito do mouse
#entrar na pasta worspace
$ cd workspace

#iremos criar uma nova pasta dentro de workspace
$ mkdir livro-receitas

#iniciar o git dentro dessa pasta
#input
$ git init
#output
Initialized empty Git repository in C:/workspace/livro-receitas/.git/ #pasta oculta

#visualizando arquivos ocultos
$ ls -a

#quando for a primeira vez que vai usar o git precisa configurar o email e o nome
$ git config --global user.email "dyelzim@gmail.com"
$ git config --global user.name Dyelzim

#gerando o primeiro commit
$ git add *
$ git commit -m "commit inicial"
#output
[master (root-commit) 52d2b97] commit inicial #primeiros caracteres do sha1
 1 file changed, 0 insertions(+), 0 deletions(-) #1 arquivo modificado
 create mode 100644 strogonoff.md
```

### Ciclo de vida dentro dos arquivos no Git

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%208.png)

- **Tracked**: arquivos que o git tem ciência deles

-**Unmodified** : arquivo que ainda não foi modificado.

Ex: Abre o arquivo e faz alguma alteração —> Modified(compara o sha1 dos arquivos) 

-**Modified**: arquivo que sofreu modificação.

-**Staged**: arquivos que estão se preparando para entrar em outro tipo de agrupamento, se preparando para fazer um commit(salvar o arquivo).

Após o commit o arquivo volta para unmodified(aguardando novas modificações).

Unmodified —> Modified —> Staged —> dar um commit e retorna  ciclo novamente

Ex: $ git add —> move o arquivo direto para a *staged*.

- **Untracked**: arquivos que o git não tem ciência deles

Ex: arquivo criado strogonoff

**Repositório Remoto(github):**

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%209.png)

As alterações feitas na sua máquina não estarão no repositório remoto, a não ser que digite os comandos específicos para fazer isso.

-Working Directory: repositório de trabalho

-Staging Area: arquivos vão sempre ficar sempre alterando entre repositório de trabalho e o staging area

-Local repository: após o commit o arquivo passa a integrar o repositório local, este pode ser empurrado(push) para um repositório remoto.

```python
$ git status #irá dar informações sobre o arquivo
#output
On branch master
nothing to commit, working tree clean #nenhum commit

#apagar um arquivo
$ mv strogonoff.md ./receitas

#verificando as mudanças
$ git status
#output
On branch master
Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        deleted:    strogonoff.md

Untracked files: #arquivo entá untracked
  (use "git add <file>..." to include in what will be committed) #sugerindo dar um git add
        receitas/

no changes added to commit (use "git add" and/or "git commit -a")

#usando git add
$ git add strogonoff.md receitas/
#output
On branch master  #arquivos prontos para serem comitados, estão no modo staging
Changes to be committed:
  (use "git restore --staged <file>..." to unstage) #se quiser voltar para unstage use git restore
        renamed:    strogonoff.md -> receitas/strogonoff.md

#dando um commit com mensagem
$ git commit -m "cria pasta receitas, move arquivo para receitas"
#output:
[master 3754bae] cria pasta receitas, move arquivo para receitas
 1 file changed, 0 insertions(+), 0 deletions(-)
 rename strogonoff.md => receitas/strogonoff.md (100%)

#verificando novamente o status
$ git status
#output
On branch master
nothing to commit, working tree clean $nada para comitar #arvore limpa

#adicionar mais um arquivo para utilizar como index do livro de receita
$ echo > README.md
#status
$ git status
#out:
On branch master
Untracked files: #arquivo não rastreado
  (use "git add <file>..." to include in what will be committed) #use git add para ser comitado
        README.md

nothing added to commit but untracked files present (use "git add" to track)
```

Abrindo o arquivo e escrevendo:

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2010.png)

```python
#status
$ git status
#out:
On branch master
Untracked files:
  (use "git add <file>..." to include in what will be committed)
        README.md

nothing added to commit but untracked files present (use "git add" to track)

#adicionando tudo que foi alterado para staging
$ git add *
#out:
warning: LF will be replaced by CRLF in README.md.
The file will have its original line endings in your working directory

#status
$ git status
#out:
On branch master
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        new file:   README.md

#commit com mensagem
$ git commit -m "adiciona index"
#out:
[master 6e59d36] adiciona index
 1 file changed, 5 insertions(+)
 create mode 100644 README.md

#verificar configurações
$ git config --list
#out:
diff.astextplain.textconv=astextplain
filter.lfs.clean=git-lfs clean -- %f
filter.lfs.smudge=git-lfs smudge -- %f
filter.lfs.process=git-lfs filter-process
filter.lfs.required=true
http.sslbackend=openssl
http.sslcainfo=C:/Program Files/Git/mingw64/ssl/certs/ca-bundle.crt
core.autocrlf=true
core.fscache=true
core.symlinks=true
pull.rebase=false
credential.helper=manager-core
credential.https://dev.azure.com.usehttppath=true
init.defaultbranch=master
filter.lfs.required=true
filter.lfs.clean=git-lfs clean -- %f
filter.lfs.smudge=git-lfs smudge -- %f
filter.lfs.process=git-lfs filter-process
user.name=Dyelzim
user.email=dyelzim@gmail.com
core.repositoryformatversion=0
core.filemode=false
core.bare=false
core.logallrefupdates=true
core.symlinks=false
core.ignorecase=true
```

### Trabalhando com o GitHub

-Criar um novo repositório no github com o nome “livro-receitas”

Empurrar a versão do nosso repositório local para um repositório remoto(GitHub):

```python
#adicionar a origem de envio dos arquivos
$ git remote add origin https://github.com/DanielPinheir/livro-receitas.git

#mostrar as listas de repositório remoto cadastradas
$ git remote -v
#out:
origin  https://github.com/DanielPinheir/livro-receitas.git (fetch)
origin  https://github.com/DanielPinheir/livro-receitas.git (push)

#empurrar as reposições do usuário local para o remoto
$ git push origin master
#out:
Enumerating objects: 8, done.
Counting objects: 100% (8/8), done.
Delta compression using up to 8 threads
Compressing objects: 100% (5/5), done.
Writing objects: 100% (8/8), 756 bytes | 378.00 KiB/s, done.
Total 8 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/DanielPinheir/livro-receitas.git #endereço e branch de envio
 * [new branch]      master -> master
```

### Como os conflitos acontecem no Github e como resolvê-los

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2011.png)

-Fazer uma alteração no README (adicionar mais uma receita)

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2012.png)

```python
$ git status
#out:
On branch master
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   README.md

no changes added to commit (use "git add" and/or "git commit -a")

#usando git add para levar arquivo para staged
$ git add *
#out:
warning: LF will be replaced by CRLF in README.md.
The file will have its original line endings in your working directory

#dando commit
$ git commit -m "adiciona receita pave"
#out:
[master cc84f96] adiciona receita pave
 1 file changed, 1 insertion(+)

#empurrando(push) para o repositório remoto
$ git push origin master
#out:
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 8 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 319 bytes | 319.00 KiB/s, done.
Total 3 (delta 1), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/DanielPinheir/livro-receitas.git
   6e59d36..cc84f96  master -> master
```

**Cuidado!!!**

-Quando se trabalha em conjunto com outras pessoas podem existir conflitos de código na hora de empurrar o código caso outro usuário já tenha modificado o código e jogado para o Github.

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2013.png)

Irá aparecer essa mensagem!

Caso isso aconteça terá que atualizar seu arquivo através do git pull

```python
$ git pull origin master
```

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2014.png)

Está dando conflito de merge pois alguém fez alguma alteração que não existia no seu repositório de trabalho. Então na hora de integrar os dois arquivos dará esse erro.  Então, ele mandar você puxar o arquivo e realizar a alteração, ou não, integrando seu código e realizando as alterações necessárias.

Após alterações fazemos o add e o commit:

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2015.png)

Agora será enviado a versão mais recente para o Github

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2016.png)

Clonando um repositório:

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2017.png)

Seleciona o link e copia.

Agora no git bash:

```python
$ git clone https://github.com/python/cpython.git
#out:
Cloning into 'cpython'...
remote: Enumerating objects: 869332, done.
remote: Counting objects: 100% (5/5), done.
remote: Compressing objects: 100% (5/5), done.
remote: Total 869332 (delta 0), reused 4 (delta 0), pack-reused 869327
Receiving objects: 100% (869332/869332), 426.38 MiB | 3.87 MiB/s, done.
Resolving deltas: 100% (689593/689593), done.
Updating files: 100% (4526/4526), done.

#entrando no cpython
$ cd cpython
$ls
#out:
CODE_OF_CONDUCT.md  Mac/             PCbuild/    aclocal.m4     netlify.toml
Doc/                Makefile.pre.in  Parser/     config.guess*  pyconfig.h.in
Grammar/            Misc/            Programs/   config.sub*    setup.py
Include/            Modules/         Python/     configure*
LICENSE             Objects/         README.rst  configure.ac
Lib/                PC/              Tools/      install-sh*

#visualizando repositórios ocultos
$ ls -a

#repositórios remotos no qual nosso repositório está apontado
$ git remote -v
#out:
origin  https://github.com/python/cpython.git (fetch)
origin  https://github.com/python/cpython.git (push)

```

# Criando seu primeiro repositório para compartilhar seu progresso.

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2018.png)

- Dá um nome e uma descrição ao seu repositório
- Marca Public para deixar visível para qualquer usuário
- Marca o README para editar a home page do projeto em markdow

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2019.png)

Para estudar mais sobre markdow :

mardowguide.org/basic-syntax/

### Clonando repositório para minha máquina

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2020.png)

- Vai em CODE e copia o HTTPs
- Abre o git bash na pasta onde você quer clonar o repositório.
- Digita ‘git clone + o link que foi copiado’

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2021.png)

- Quando fizer alguma alteração terá que atualizar e enviar para o github

-Após alteração digita: ‘**git status’** (irá avisar sobre a alteração e pedirá para dar um git add)

-Digite: ‘**git add .**’ ou  ‘**git add ***’

-Digite: ‘**git commit -m** “mensagem relacionada a alteração” 

-Para empurrar para o github digite: “**git push origin main”**

## Desafio de Projeto

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2022.png)

![Untitled](Git%20&%20Github%20bb58466e03fe40b5b25372f26f3db478/Untitled%2023.png)